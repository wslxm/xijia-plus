package com.ws.ldy.base.entity;import java.io.Serializable;import java.lang.reflect.Field;import java.lang.reflect.Method;/** * TODO    java 实体类entity/DTO/VO 相互转换 * * @author ws * @mail 1720696548@qq.com * @date 2020/3/31 0031 15:26 * @return */public class Convert implements Serializable {    /**     * 获取自动转换后的JavaBean对象     *     * @param clazz     * @param <T>     * @return     */    public <T> T convert(Class<T> clazz) {        return BeanDtoVoUtils.convert(this, clazz);    }    /**     * 把接收到前端的枚举对象中文名称--转换为枚举对象实际名称，rpc调用时使用     *     * @param     * @return     */    public <T> T convertEnum() {        Class<?> forName = this.getClass();        Class<?> enumClass = null;        try {            Field[] declaredFields = forName.getDeclaredFields();            for (Field field : declaredFields) {                if ("serialVersionUID".equals(field.getName())) {                    continue;                }                // 获得字段对象类型                enumClass = field.getType();                // 判断是否为枚举对象                if (enumClass.isEnum()) {                    // 破坏私有属性                    field.setAccessible(true);                    // 获取get方法名                    String methodName = field.getName().substring(0, 1).toUpperCase() + field.getName().substring(1);                    // 获取并调用当前this类对应枚举属性的get方法                    Method getMethod = forName.getDeclaredMethod("get" + methodName);                    // 调用方法获取返回的枚举对象                    Enum oldEnum = (Enum) getMethod.invoke(this);                    // 获取当前枚举的setDesc方法                    Method enumSetDesc = enumClass.getDeclaredMethod("setDesc", String.class);                    // 调用set方法并把枚举name值复值为desc值                    enumSetDesc.invoke(oldEnum, oldEnum.name());                }            }        } catch (Exception e) {            System.out.println(forName.toString() + "请检查是否存在对应枚举的getter方法");            System.out.println(enumClass.toString() + "请检查此枚举是否配置 public void setDesc(String desc) {this.desc = desc;}");            //e.printStackTrace();        }        return (T) this;    }}